<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ููู ูุนูููุงุช ุจูุงูู: ุชุญููู ุงููุดูุฏ ุงูุฅุนูุงูู ุงูููุจู</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Cairo', sans-serif;
            background-color: #0B132B;
            color: #F0F8FF;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 350px;
            max-height: 45vh;
        }
        .small-chart-container {
            position: relative;
            width: 100%;
            max-width: 450px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 40vh;
        }
        .card {
            background-color: #1C2541;
            border: 1px solid #3A506B;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(91, 192, 190, 0.1);
        }
        .brand-text {
            color: #6FFFE9;
        }
        .flowchart-step {
            background-color: rgba(91, 192, 190, 0.1);
            border-right: 3px solid #5BC0BE;
        }
        .flowchart-arrow {
            color: #5BC0BE;
            font-size: 2rem;
            line-height: 1;
        }
        .modal {
            background-color: rgba(28, 37, 65, 0.95);
        }
        .gemini-button {
            background-color: #5BC0BE;
            color: #0B132B;
            transition: background-color 0.3s ease;
        }
        .gemini-button:hover {
            background-color: #6FFFE9;
        }
        .loader {
            border: 4px solid #3A506B;
            border-top: 4px solid #6FFFE9;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .key-stat {
            background-color: #3A506B;
            color: #6FFFE9;
        }
        footer {
            border-top: 1px solid #3A506B;
        }
        footer a:hover {
            color: #6FFFE9;
        }
    </style>
</head>
<body class="antialiased">

    <main class="container mx-auto p-4 md:p-8">

        <header class="text-center my-8 md:my-12">
            <h1 class="text-4xl md:text-6xl font-black brand-text">ุนูุฏูุง ูุชุญูู ุงูุชุฑููู ุฅูู ุฃุฏุงุฉ</h1>
            <p class="text-xl md:text-2xl mt-4 max-w-3xl mx-auto text-gray-300">ูุธุฑุฉ ุนูููุฉ ุนูู ุงุณุชูุทุงุจ ุงูุฅุนูุงู ุงูููุจู ูุฏูุฑ ุงูุฃุฌูุฏุงุช ุงูุฎููุฉ ูู ุชุดููู ุงููุนู</p>
        </header>

        <section id="landscape" class="my-12">
            <div class="text-center mb-8">
                <h2 class="text-3xl font-bold">ุบูุงุจ ุงูุฅุนูุงู ุงููุทูู: ูุดูุฏ ูุฌุฒุฃ</h2>
                <p class="mt-2 text-gray-400 max-w-2xl mx-auto">ุนูู ุงูุฑุบู ูู ุงูุฅุฑุซ ุงูุชุงุฑูุฎูุ ููุชูุฑ ุงููุดูุฏ ุงูููุจู ูุตูุช ุฅุนูุงูู ูุทูู ุฌุงูุนุ ูุชุณูุทุฑ ุงููููุงุช ุฐุงุช ุงูุชูุฌูุงุช ุงูุณูุงุณูุฉ ุนูู ุงูุณุงุญุฉุ ุจูููุง ูุธู ุฏูุฑ ุฅุนูุงู ุงูุฏููุฉ ุงูุฑุณูู ุจุงูุชูุง ูุฃุดุจู ุจู"ุงูุขุซุงุฑ ุงูุชุงุฑูุฎูุฉ".</p>
            </div>
            <div class="card rounded-lg shadow-xl p-6">
                <h3 class="text-xl font-bold text-center mb-4">ุชูุฒูุน ุงูุชุฃุซูุฑ ูู ุงููุดูุฏ ุงูุฅุนูุงูู (ุชูุฏูุฑู)</h3>
                <div class="chart-container">
                    <canvas id="landscapeChart"></canvas>
                </div>
                 <p class="text-center mt-4 text-sm text-gray-400">ููุธูุฑ ุงูุฑุณู ููููุฉ ุงููููุงุช ุงููุฑุชุจุทุฉ ุจุฌูุงุช ุณูุงุณูุฉ ุฏุงุฎููุฉ ุฃู ุชูููู ุฎุงุฑุฌูุ ููุง ูููุต ูุณุงุญุฉ ุงูุฅุนูุงู ุงููุณุชูู ุฃู ุงูุฑุณูู ููุญุฏ ูู ุชุฃุซูุฑู.</p>
            </div>
        </section>

        <hr class="border-gray-700 my-16">

        <section id="channels" class="my-12">
             <div class="text-center mb-8">
                <h2 class="text-3xl font-bold">ูููุงุช ุชุญุช ุงููุฌูุฑ: ููุงุฐุฌ ูุฃุณุงููุจ</h2>
                <p class="mt-2 text-gray-400 max-w-2xl mx-auto">ุชุชุจุน ูููุงุช ูุฎุชููุฉ ุงุณุชุฑุงุชูุฌูุงุช ูุชุจุงููุฉ ูุชุญููู ุฃูุฏุงููุงุ ุณูุงุก ุนุจุฑ ุงูุชุฑููู ูุฃุฏุงุฉ ูุงุนูุฉ ุฃู ุนุจุฑ ุงูุฎุทุงุจ ุงูุณูุงุณู ุงููุจุงุดุฑ ูุงูููุญุงุฒ.</p>
            </div>
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">

                <div class="card rounded-lg shadow-xl p-6 lg:col-span-2">
                    <h3 class="text-xl font-bold text-center mb-4">ุงุณุชุฑุงุชูุฌูุฉ ุงูููุฉ ุงููุงุนูุฉ: ููุงุฉ ููุจูุง ุงูุฃุญุฑุงุฑ ูููุฐุฌูุง</h3>
                    <p class="text-center text-sm text-gray-400 mb-6">ุชุนุชูุฏ ุงูููุงุฉุ ุงูููููุฉ ูู ูุทุฑุ ุนูู ููุฌ ุงูููุฉ ุงููุงุนูุฉ ุงูุฐู ูุง ูุดุชุฑุท ุงูุชููู ุงููุจุงุดุฑุ ุจู ูุณุชุฎุฏู ุดุนุงุฑุงุช ุฌุฐุงุจุฉ ูุจูุงุก ุงููุตุฏุงููุฉ ูุชูุฑูุฑ ุงูุฃุฌูุฏุงุช ุถูู ุฎุทูุท ุญูุฑุงุก ูุญุฏุฏุฉ.</p>
                    <div class="flex flex-col md:flex-row items-center justify-around space-y-4 md:space-y-0 md:space-x-4 text-center">
                        <div class="flowchart-step p-4 rounded-lg flex-1">
                            <h4 class="font-bold">ูก. ุชุฌููุฏ ุงูุทุงูุงุช</h4>
                            <p class="text-xs">ุงุณุชูุทุงุจ ุดุฎุตูุงุช ูุชููุนุฉ</p>
                        </div>
                        <div class="flowchart-arrow transform md:-rotate-90">โ</div>
                        <div class="flowchart-step p-4 rounded-lg flex-1">
                            <h4 class="font-bold">ูข. ุจูุงุก ุงููุตุฏุงููุฉ</h4>
                            <p class="text-xs">ุชุจูู ุดุนุงุฑุงุช ุดุนุจูุฉ (ูุถูุฉ ููุณุทููุ ุญุฑูุฉ ุงูุดุนูุจ)</p>
                        </div>
                        <div class="flowchart-arrow transform md:-rotate-90">โ</div>
                        <div class="flowchart-step p-4 rounded-lg flex-1">
                             <h4 class="font-bold">ูฃ. ุชูุฌูู ุงููุนู</h4>
                            <p class="text-xs">ุญุฌุจ ูุนูููุงุช ุญุณุงุณุฉ (ูุซู ุงูููุงุนุฏ ุงูุฃูุฑูููุฉ) ูุชูุฑูุฑ ุฑุณุงุฆู ููุฌูุฉ</p>
                        </div>
                    </div>
                    <div class="mt-4 text-sm text-gray-300">
                        <h5 class="font-semibold mb-1 brand-text">ูุญุงูุฑ ุงูุชุฑููุฒ ุงูุฑุฆูุณูุฉ (ุฃูุซูุฉ):</h5>
                        <ul class="list-disc list-inside pr-4">
                            <li>ุงูุชุฃููุฏ ุนูู ุดุฑุนูุฉ ุญูููุงุช ูุนููุฉ ูุฏุนู ุชูุฌูุงุชูุง.</li>
                            <li>ุชุณููุท ุงูุถูุก ุนูู ูุถุงูุง ุญููู ุงูุฅูุณุงู ุจุดูู ุงูุชูุงุฆู.</li>
                            <li>ุงูุชุฑููุฒ ุนูู ุงูุงููุณุงูุงุช ุงูุฏุงุฎููุฉ ูุชุฃุฌูุฌูุง ุฃุญูุงููุง.</li>
                        </ul>
                    </div>
                    <div class="text-center mt-6">
                        <button id="analyzeBiasButton" class="gemini-button font-bold py-2 px-4 rounded-lg">
                            โจ ุชุญููู ุงูุชุญูุฒ (ุชุฌุฑูุจู) ูุฎุจุฑ ูู ุงูููุงุฉ
                        </button>
                    </div>
                </div>

                <div class="card rounded-lg shadow-xl p-6">
                    <h3 class="text-xl font-bold text-center mb-4">ุฌุจูุฉ ุงูุดุฑู: ุงูุงูุญูุงุฒ ุงููุงุถุญ</h3>
                     <p class="text-center mt-2 mb-4 text-sm text-gray-400">ุชูุนุฑู ูููุงุช ูุซู "ุงูุญุฏุซ" ู"ุงููุณุงุฑ" ุจุฏุนููุง ุงููุงุถุญ ูููุคุณุณุงุช ูู ุดุฑู ุงูุจูุงุฏุ ููุง ูุฌุนููุง ุฃุฏุงุฉ ูู ุงูุตุฑุงุน ุงูุณูุงุณู ุฃูุซุฑ ูู ููููุง ูุณููุฉ ุฅุนูุงููุฉ ูุญุงูุฏุฉ.</p>
                    <div class="chart-container" style="height:300px;">
                        <canvas id="eastChannelsChart"></canvas>
                    </div>
                    <div class="mt-4 text-sm text-gray-300">
                        <h5 class="font-semibold mb-1 brand-text">ุงูุฑูุงูุงุช ุงูุดุงุฆุนุฉ (ุฃูุซูุฉ):</h5>
                        <ul class="list-disc list-inside pr-4">
                            <li>ุชูุฌูุฏ ุฏูุฑ ุงููุคุณุณุฉ ุงูุนุณูุฑูุฉ ูู "ูุญุงุฑุจุฉ ุงูุฅุฑูุงุจ".</li>
                            <li>ุชุดููู ุตูุฑุฉ ุงูุฎุตูู ุงูุณูุงุณููู ูุงุชูุงููู ุจุงูุนูุงูุฉ.</li>
                            <li>ุงูุชุฑููุฌ ููุดุงุฑูุน ุฅุนุงุฏุฉ ุงูุฅุนูุงุฑ ุชุญุช ููุงุฏุฉ ุงูุดุฑู.</li>
                        </ul>
                    </div>
                </div>

                <div class="card rounded-lg shadow-xl p-6">
                    <h3 class="text-xl font-bold text-center mb-4">ุฎุท ุฃูุงุจูุจ ุงูุชุฑููู: ุณูุงู ู WTV</h3>
                    <p class="text-center mt-2 mb-4 text-sm text-gray-400">ุชุณุชุฎุฏู ูุฐู ุงููููุงุช ุงูุชุฑููู ูููุทุฉ ุงูุทูุงู ููุณุจ ุซูุฉ ุงูุฌูููุฑุ ูุจู ุฃู ุชุจุฏุฃ ูู ุชูุฑูุฑ ุฑุณุงุฆู ุณูุงุณูุฉ ูุจุทูุฉ ุฃู ูุจุงุดุฑุฉ.</p>
                    <div class="flex items-center justify-around h-full text-3xl md:text-5xl text-center">
                         <div class="flex flex-col items-center">
                            <span>๐ญ</span>
                            <p class="text-sm font-bold mt-2">ุชุฑููู</p>
                        </div>
                        <span class="font-sans text-4xl text-gray-500 mx-2">โ</span>
                        <div class="flex flex-col items-center">
                            <span>โค๏ธ</span>
                            <p class="text-sm font-bold mt-2">ูุณุจ ุงูุซูุฉ</p>
                        </div>
                         <span class="font-sans text-4xl text-gray-500 mx-2">โ</span>
                        <div class="flex flex-col items-center">
                            <span>๐ข</span>
                            <p class="text-sm font-bold mt-2">ุชูุฌูู ุณูุงุณู</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <hr class="border-gray-700 my-16">

        <section id="audienceBehavior" class="my-12">
            <div class="text-center mb-8">
                <h2 class="text-3xl font-bold">ุณููู ุงูุฌูููุฑ: ููู ูุณุชููู ุงูููุจููู ุงูุฅุนูุงูุ</h2>
                <p class="mt-2 text-gray-400 max-w-2xl mx-auto">ููู ุนุงุฏุงุช ุงูุฌูููุฑ ูุชูุถููุงุชู ุฃุณุงุณู ูุชุญููู ุชุฃุซูุฑ ุงูุฅุนูุงู. ุงูุจูุงูุงุช ุงูุชุงููุฉ ุชูุฏู ููุญุฉ (ุชูุฏูุฑูุฉ) ุนู ูุฐุง ุงูุณููู.</p>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-start">
                <div class="card rounded-lg shadow-xl p-6">
                    <h3 class="text-xl font-bold text-center mb-4">ูุตุฏุฑ ุงูุฃุฎุจุงุฑ ุงูุฑุฆูุณู ุญุณุจ ุงููุฆุฉ ุงูุนูุฑูุฉ</h3>
                    <div class="small-chart-container">
                        <canvas id="newsSourceByAgeChart"></canvas>
                    </div>
                    <p class="text-center mt-4 text-sm text-gray-400">ุชุธูุฑ ููููุฉ ูุณุงุฆู ุงูุชูุงุตู ุงูุงุฌุชูุงุนู ููุตุฏุฑ ุฑุฆูุณู ููุฃุฎุจุงุฑ ุจูู ุงูุดุจุงุจุ ุจูููุง ูุธู ุงูุชููุฒููู ูุคุซุฑูุง ูุฏู ุงููุฆุงุช ุงูุฃูุจุฑ ุณููุง.</p>
                </div>
                <div class="card rounded-lg shadow-xl p-6">
                    <h3 class="text-xl font-bold text-center mb-4">ูุณุชูู ุงูุซูุฉ ูู ุฃููุงุน ุงูุฅุนูุงู (ุชูุฏูุฑู)</h3>
                    <div class="small-chart-container">
                        <canvas id="mediaTrustChart"></canvas>
                    </div>
                    <p class="text-center mt-4 text-sm text-gray-400">ูุนูุณ ุงูุฑุณู ุชุจุงูููุง ูู ูุณุชููุงุช ุงูุซูุฉุ ุญูุซ ุชุญุธู ุจุนุถ ุงููุตุงุฏุฑ ุจุซูุฉ ุฃูุจุฑ ูู ุบูุฑูุงุ ููุชุฃุซุฑ ุฐูู ุบุงูุจูุง ุจุงูุงูุชูุงุกุงุช ูุงูุชูุฌูุงุช.</p>
                </div>
            </div>
            <div class="grid grid-cols-1 sm:grid-cols-2 gap-6 mt-8">
                <div class="key-stat p-6 rounded-lg text-center shadow-lg">
                    <p class="text-4xl font-black">~65%</p>
                    <p class="mt-1 text-gray-200">ูุณุจุฉ ุงูุชุดุงุฑ ุงูุฅูุชุฑูุช (ุชูุฏูุฑู)</p>
                </div>
                <div class="key-stat p-6 rounded-lg text-center shadow-lg">
                    <p class="text-4xl font-black">~3.5 <span class="text-2xl">ุณุงุนุงุช</span></p>
                    <p class="mt-1 text-gray-200">ูุชูุณุท ูุดุงูุฏุฉ ุงูุชููุฒููู ูููููุง (ุชูุฏูุฑู)</p>
                </div>
            </div>
        </section>
        
        <hr class="border-gray-700 my-16">

        <section id="funding" class="my-12">
            <div class="text-center mb-8">
                <h2 class="text-3xl font-bold">ุงุณุชุฑุงุชูุฌูุงุช ุงูุชูููู: ููุงุฑูุฉ ุจูู ููุฌูู</h2>
                <p class="mt-2 text-gray-400 max-w-2xl mx-auto">ูุฎุชูู ููุฌ ุงูุชูููู ุงููุทุฑู ุงููุงุฆู ุนูู "ุงูููุฉ ุงููุงุนูุฉ" ุนู ููุฌ ุงูุชูููู ุงูุณุนูุฏู ูุงูุฅูุงุฑุงุชู ุงูุฐู ูุนุชูุฏ ุนูู "ุงูุชููู ุงููุจุงุดุฑ"ุ ูููู ููููุง ุฃุฏูุงุชู ูุฃูุฏุงูู.</p>
            </div>
             <div class="overflow-x-auto">
                <div class="card rounded-lg shadow-xl p-6 min-w-full inline-block">
                    <table class="w-full text-center">
                        <thead>
                            <tr class="border-b border-gray-700">
                                <th class="py-3 px-2 text-lg brand-text">ุงูููุฒุฉ</th>
                                <th class="py-3 px-2 text-lg">ุงููููุฐุฌ ุงููุทุฑู (ุงูููุฉ ุงููุงุนูุฉ)</th>
                                <th class="py-3 px-2 text-lg">ุงููููุฐุฌ ุงูุณุนูุฏู/ุงูุฅูุงุฑุงุชู (ุงููุจุงุดุฑ)</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="border-b border-gray-800">
                                <td class="py-4 px-2 font-bold">ุงูุดุฑุท ุงูุฃุณุงุณู</td>
                                <td class="py-4 px-2">ุงูููุงุก ููุฃุฌูุฏุฉ ูุน ุงูุญูุงุธ ุนูู ูุธูุฑ ุงูุงุณุชููุงููุฉ</td>
                                <td class="py-4 px-2">ุงูุชููู ูุงููุฏูุญ ุงูุตุฑูุญ ูููุธุงู</td>
                            </tr>
                             <tr class="border-b border-gray-800">
                                <td class="py-4 px-2 font-bold">ูุณุงุญุฉ ุงูููุฏ</td>
                                <td class="py-4 px-2">ูุณููุญ ุจู ุถุฏ ุฎุตูู (ุฃูุฑููุงุ ุฅุณุฑุงุฆูู) ููุณุจ ุงููุตุฏุงููุฉ</td>
                                <td class="py-4 px-2">ูุญุฏูุฏ ุฌุฏูุง ุฃู ููุนุฏู</td>
                            </tr>
                             <tr>
                                <td class="py-4 px-2 font-bold">ุงููุฏู ุงูููุงุฆู</td>
                                <td class="py-4 px-2">ุงูุณูุทุฑุฉ ุนูู ุงููุนู ูุชุญููุฏ ุงูุฎุตูู ููุฑููุง</td>
                                <td class="py-4 px-2">ุงูุณูุทุฑุฉ ุนูู ุงูุฎุทุงุจ ูุชูููุน ุงูุตูุฑุฉ</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>
        
        <hr class="border-gray-700 my-16">

        <section id="conclusion" class="my-12 text-center">
            <h2 class="text-3xl font-bold">ูุญู ุณูุงุฏุฉ ุฅุนูุงููุฉ ุญููููุฉ</h2>
            <div class="max-w-3xl mx-auto mt-6 flex flex-col md:flex-row items-center gap-8">
                <div class="card p-6 rounded-lg text-center flex-shrink-0">
                    <p class="text-7xl font-black brand-text">1</p>
                    <p class="font-bold mt-2">ููุงุฉ ูุงุญุฏุฉ ููุท</p>
                    <p class="text-sm text-gray-400">ูุนุฑููุฉ ุงููุตุฏุฑ ุชูููููุง ุจุดูุงููุฉ (ุชูุฏูุฑููุง)</p>
                </div>
                <div class="text-right md:text-left flex-grow">
                     <p class="text-gray-300 mb-4">ูุธู ุงูุฑูุงู ุงูุญูููู ุนูู ุดูุงููุฉ ูุตุงุฏุฑ ุงูุชูููู ููููุฉ ุงูุฃุฌูุฏุงุช. ุฅู ุงููุทุงูุจุฉ ุจูุดู ูุฐู ุงูุญูุงุฆู ููุณุช ุชุฑููุงุ ุจู ูู ุญู ุฃุตูู ููููุงุทู ูุถุฑูุฑุฉ ููุญุฉ ูุจูุงุก ุฅุนูุงู ูุทูู ูุณุคูู ูุณูู ูู ุชุญููู ุงูุณูุงุฏุฉ ุงูุฅุนูุงููุฉ ุงูููุดูุฏุฉ ุจุนูุฏูุง ุนู ุฃู ุชุฏุฎูุงุช ุฎุงุฑุฌูุฉ ุฃู ุงุณุชูุทุงุจุงุช ุฏุงุฎููุฉ.</p>
                     <button id="askGeminiButton" class="gemini-button font-bold py-2 px-4 rounded-lg w-full md:w-auto">
                        โจ ุงุทุฑุญ ุณุคุงูุงู (ุชุฌุฑูุจู) ุนูู Gemini ุญูู ุงูุฅุนูุงู ุงูููุจู
                    </button>
                </div>
            </div>
        </section>
    </main>

    <footer class="container mx-auto text-center py-8 mt-8 text-gray-400 text-sm">
        <p>
            ูุฐุง ุงูููู ุงูุจูุงูู ูู ุฌุฒุก ูู ุชุญููู ุฃูุณุน ูููุดูุฏ ุงูุฅุนูุงูู.
            <br>
            ูุตุฏุฑ ุงูุฅููุงู ูุงูุชุญููู ุงูุฃููู: <a href="https://www.absi.cc" target="_blank" rel="noopener noreferrer" class="underline hover:text-gray-200">ูุฏููุฉ ุนุจุฏุงูุณูุงู ุดููุจู</a>.
        </p>
         <p class="mt-2">ุฌููุน ุงูุจูุงูุงุช ุงููุนุฑูุถุฉ ูู ุชูุฏูุฑูุฉ ูุฃุบุฑุงุถ ุงูุชูุถูุญ ูุง ูู ููุดุฑ ุฅูู ุฎูุงู ุฐูู.</p>
    </footer>

    <div id="biasAnalysisModal" class="fixed inset-0 z-50 flex items-center justify-center p-4 modal hidden">
        <div class="bg-gray-800 p-6 rounded-lg shadow-xl max-w-lg w-full">
            <h3 class="text-xl font-bold mb-4 brand-text">โจ ุชุญููู ุงูุชุญูุฒ (ุชุฌุฑูุจู)</h3>
            <p class="text-sm text-gray-300 mb-2">ุฎุจุฑ ุงูุชุฑุงุถู ูู "ููุงุฉ ููุจูุง ุงูุฃุญุฑุงุฑ":</p>
            <p class="bg-gray-700 p-3 rounded text-sm mb-4">"ููุฌุฉ ุบุถุจ ุดุนุจูุฉ ุนุงุฑูุฉ ุชุฌุชุงุญ ุงููุฏู ุงููุจุฑู ุชูุฏูุฏูุง ุจุงูุณูุงุณุงุช ุงูุงูุชุตุงุฏูุฉ ุงูุฃุฎูุฑุฉุ ููุทุงูุจุงุช ูุงุณุนุฉ ุจุชุบููุฑ ุฌุฐุฑู."</p>
            <button id="triggerBiasAnalysis" class="gemini-button font-bold py-2 px-4 rounded-lg w-full mb-4">ุชุญููู ุจูุงุณุทุฉ Gemini</button>
            <div id="biasAnalysisResult" class="text-sm text-gray-300 min-h-[50px]"></div>
            <button id="closeBiasModal" class="mt-4 py-2 px-4 bg-gray-600 hover:bg-gray-500 text-white font-bold rounded-lg w-full">ุฅุบูุงู</button>
        </div>
    </div>

    <div id="askGeminiModal" class="fixed inset-0 z-50 flex items-center justify-center p-4 modal hidden">
        <div class="bg-gray-800 p-6 rounded-lg shadow-xl max-w-lg w-full">
            <h3 class="text-xl font-bold mb-4 brand-text">โจ ุงุทุฑุญ ุณุคุงูุงู (ุชุฌุฑูุจู)</h3>
            <p class="text-sm text-gray-300 mb-2">ุงูุชุจ ุณุคุงูู ุญูู ุงูุฅุนูุงู ุงูููุจู ููููู Gemini ุจุชุญูููู (ุชุฌุฑูุจู):</p>
            <textarea id="userQueryInput" class="w-full p-2 rounded bg-gray-700 border border-gray-600 text-gray-200 h-24 mb-4" placeholder="ูุซุงู: ูุง ูู ุชุฃุซูุฑ ุงูุชูููู ุงูุฃุฌูุจู ุนูู ุงุณุชููุงููุฉ ุงููููุงุช ุงูููุจูุฉุ"></textarea>
            <button id="submitUserQuery" class="gemini-button font-bold py-2 px-4 rounded-lg w-full mb-4">ุฅุฑุณุงู ุฅูู Gemini</button>
            <div id="geminiResponse" class="text-sm text-gray-300 min-h-[70px]"></div>
            <button id="closeAskModal" class="mt-4 py-2 px-4 bg-gray-600 hover:bg-gray-500 text-white font-bold rounded-lg w-full">ุฅุบูุงู</button>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {

            function wrapText(label) {
                const maxLength = 16;
                if (typeof label !== 'string' || label.length <= maxLength) {
                    return label;
                }
                const words = label.split(' ');
                const lines = [];
                let currentLine = '';
                words.forEach(word => {
                    if ((currentLine + ' ' + word).trim().length > maxLength && currentLine.length > 0) {
                        lines.push(currentLine);
                        currentLine = word;
                    } else {
                        currentLine = currentLine ? currentLine + ' ' + word : word;
                    }
                });
                if (currentLine) {
                    lines.push(currentLine);
                }
                return lines.length > 0 ? lines : [label];
            }

            const chartColors = {
                primary: '#5BC0BE',
                secondary: '#3A506B',
                accent: '#6FFFE9',
                lightText: 'rgba(240, 248, 255, 0.8)',
                pieSlice1: '#5BC0BE',
                pieSlice2: '#6FFFE9',
                pieSlice3: '#3A506B',
                pieSlice4: 'rgba(91, 192, 190, 0.4)',
            };
            
            const defaultChartOptions = {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        labels: {
                            color: chartColors.lightText,
                            font: {
                                family: "'Cairo', sans-serif"
                            }
                        }
                    },
                    tooltip: {
                        titleFont: { family: "'Cairo', sans-serif" },
                        bodyFont: { family: "'Cairo', sans-serif" },
                        callbacks: {
                            title: function(tooltipItems) {
                                const item = tooltipItems[0];
                                let label = item.chart.data.labels[item.dataIndex];
                                if (Array.isArray(label)) {
                                    return label.join(' ');
                                }
                                return label;
                            }
                        }
                    }
                }
            };

            const landscapeCtx = document.getElementById('landscapeChart')?.getContext('2d');
            if(landscapeCtx) {
                new Chart(landscapeCtx, {
                    type: 'doughnut',
                    data: {
                        labels: ['ูููุงุช ุฐุงุช ุชูุฌู ุณูุงุณู', 'ุฅุนูุงู ุงูุฏููุฉ ุงูุฑุณูู', 'ูููุงุช ูุณุชููุฉ (ูุธุฑูุงู)'],
                        datasets: [{
                            label: 'ุชูุฒูุน ุงูุชุฃุซูุฑ',
                            data: [75, 15, 10],
                            backgroundColor: [chartColors.primary, chartColors.secondary, 'rgba(91, 192, 190, 0.3)'],
                            borderColor: '#1C2541',
                            borderWidth: 4
                        }]
                    },
                    options: { ...defaultChartOptions }
                });
            }

            const eastChannelsCtx = document.getElementById('eastChannelsChart')?.getContext('2d');
            if(eastChannelsCtx) {
                const originalLabels = ['ููุงุฉ ุงูุญุฏุซ ุงูููุจูุฉ', 'ููุงุฉ ุงููุณุงุฑ'];
                const processedLabels = originalLabels.map(wrapText);

                new Chart(eastChannelsCtx, {
                    type: 'bar',
                    data: {
                        labels: processedLabels,
                        datasets: [{
                            label: 'ุฏุฑุฌุฉ ุงูุงูุญูุงุฒ (ุชูุฏูุฑู)',
                            data: [90, 85],
                            backgroundColor: [chartColors.primary, 'rgba(91, 192, 190, 0.6)'],
                            borderRadius: 5
                        }]
                    },
                    options: {
                        ...defaultChartOptions,
                        indexAxis: 'y',
                         scales: {
                            x: {
                                grid: { color: 'rgba(58, 80, 107, 0.3)' },
                                ticks: { 
                                    color: chartColors.lightText,
                                    callback: function(value) { return value + '%' }
                                },
                                max: 100,
                                beginAtZero: true
                            },
                            y: {
                                grid: { display: false },
                                ticks: { color: chartColors.lightText }
                            }
                        },
                        plugins: {
                             ...defaultChartOptions.plugins,
                             legend: { display: false }
                        }
                    }
                });
            }

            const newsSourceByAgeCtx = document.getElementById('newsSourceByAgeChart')?.getContext('2d');
            if(newsSourceByAgeCtx) {
                new Chart(newsSourceByAgeCtx, {
                    type: 'pie',
                    data: {
                        labels: [wrapText('ูุณุงุฆู ุงูุชูุงุตู ุงูุงุฌุชูุงุนู (18-25)'), wrapText('ุงูุชููุฒููู (41+)'), wrapText('ุจูุงุจุงุช ุงูุฃุฎุจุงุฑ ุฃูููุงูู (26-40)'), wrapText('ุงูุชููุฒููู (26-40)'), wrapText('ูุณุงุฆู ุงูุชูุงุตู (41+)')],
                        datasets: [{
                            label: 'ูุตุฏุฑ ุงูุฃุฎุจุงุฑ ุงูุฑุฆูุณู',
                            data: [45, 30, 25, 20, 15], 
                            backgroundColor: [chartColors.pieSlice1, chartColors.pieSlice2, chartColors.pieSlice3, chartColors.pieSlice4, 'rgba(58, 80, 107, 0.5)'],
                            borderColor: '#1C2541',
                            borderWidth: 2
                        }]
                    },
                    options: {
                        ...defaultChartOptions,
                        plugins: {
                            ...defaultChartOptions.plugins,
                            legend: {
                                position: 'bottom',
                                labels: {
                                    ...defaultChartOptions.plugins.legend.labels,
                                    padding: 15,
                                    boxWidth: 12
                                }
                            }
                        }
                    }
                });
            }

            const mediaTrustCtx = document.getElementById('mediaTrustChart')?.getContext('2d');
            if(mediaTrustCtx) {
                const trustLabels = [wrapText('ุชููุฒููู ูุญูู (ููุฌู)'), wrapText('ุชููุฒููู ุฏููู'), wrapText('ูุณุงุฆู ุงูุชูุงุตู ุงูุงุฌุชูุงุนู'), wrapText('ุฅุฐุงุนุฉ ูุญููุฉ'), wrapText('ุตุญู ูุฑููุฉ (ูุงุฏุฑุฉ)')];
                new Chart(mediaTrustCtx, {
                    type: 'bar',
                    data: {
                        labels: trustLabels,
                        datasets: [{
                            label: 'ูุณุชูู ุงูุซูุฉ (ูู 10)',
                            data: [4.5, 6.0, 3.5, 5.0, 2.5], 
                            backgroundColor: chartColors.primary,
                            borderRadius: 4
                        }]
                    },
                    options: {
                        ...defaultChartOptions,
                         scales: {
                            x: {
                                grid: { display: false },
                                ticks: { color: chartColors.lightText }
                            },
                            y: {
                                grid: { color: 'rgba(58, 80, 107, 0.3)' },
                                ticks: { color: chartColors.lightText },
                                max: 10,
                                beginAtZero: true
                            }
                        },
                        plugins: {
                             ...defaultChartOptions.plugins,
                             legend: { display: false }
                        }
                    }
                });
            }


            const biasAnalysisModal = document.getElementById('biasAnalysisModal');
            const analyzeBiasButton = document.getElementById('analyzeBiasButton');
            const closeBiasModalButton = document.getElementById('closeBiasModal');
            const triggerBiasAnalysisButton = document.getElementById('triggerBiasAnalysis');
            const biasAnalysisResultDiv = document.getElementById('biasAnalysisResult');

            analyzeBiasButton?.addEventListener('click', () => {
                biasAnalysisModal.classList.remove('hidden');
                biasAnalysisResultDiv.innerHTML = ''; 
            });
            closeBiasModalButton?.addEventListener('click', () => biasAnalysisModal.classList.add('hidden'));
            
            triggerBiasAnalysisButton?.addEventListener('click', async () => {
                biasAnalysisResultDiv.innerHTML = '<div class="flex justify-center items-center"><div class="loader"></div><p class="ml-2">ุฌุงุฑู ุงูุชุญููู ุจูุงุณุทุฉ Gemini...</p></div>';
                
                const prompt = "ุญูู ุงูุชุญูุฒ ูู ุงูุนููุงู ุงูุฅุฎุจุงุฑู ุงูุชุงูู ุงูููุณูุจ ูููุงุฉ ููุจูุง ุงูุฃุญุฑุงุฑ: 'ููุฌุฉ ุบุถุจ ุดุนุจูุฉ ุนุงุฑูุฉ ุชุฌุชุงุญ ุงููุฏู ุงููุจุฑู ุชูุฏูุฏูุง ุจุงูุณูุงุณุงุช ุงูุงูุชุตุงุฏูุฉ ุงูุฃุฎูุฑุฉุ ููุทุงูุจุงุช ูุงุณุนุฉ ุจุชุบููุฑ ุฌุฐุฑู.'";
                
                try {
                    let chatHistory = [{ role: "user", parts: [{ text: prompt }] }];
                    const payload = { contents: chatHistory };
                    const apiKey = ""; 
                    const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;
                    
                    await new Promise(resolve => setTimeout(resolve, 1500));

                    const mockApiResponse = {
                        candidates: [{
                            content: {
                                parts: [{
                                    text: "ุชุญููู ุชุฌุฑูุจู ููุชุญูุฒ: \n- ุงูุนููุงู ูุณุชุฎุฏู ูุบุฉ ูููุฉ ูุนุงุทููุฉ ูุซู 'ุบุถุจ ุนุงุฑู' ู 'ุชุฌุชุงุญ' ููุง ูุฏ ููุฏู ุฅูู ุชุถุฎูู ุงูุญุฏุซ.\n- ุนุจุงุฑุฉ 'ูุทุงูุจุงุช ูุงุณุนุฉ ุจุชุบููุฑ ุฌุฐุฑู' ูุฏ ุชุดูุฑ ุฅูู ุชุจูู ูุฌูุฉ ูุธุฑ ูุนููุฉ ุฏูู ุชูุถูุญ ุญุฌู ูุฐู ุงููุทุงูุจุงุช ุฃู ุชููุน ุงูุขุฑุงุก ุงูุฃุฎุฑู.\n- ููุชูุฑ ุงูุนููุงู ุฅูู ุชูุงุตูู ูุญุฏุฏุฉ ุญูู ุงูุณูุงุณุงุช ุงูุงูุชุตุงุฏูุฉ ุฃู ุทุจูุนุฉ ุงูุชุบููุฑ ุงูุฌุฐุฑู ุงููุทููุจุ ููุง ูุฏ ูุชุฑู ุงูุทุจุงุนูุง ุนุงููุง ุจุฏูุงู ูู ุชูุฏูู ูุนูููุงุช ูุชูุงุฒูุฉ.\n- ุจุดูู ุนุงูุ ูุธูุฑ ุงูุนููุงู ูููุงู ูุญู ุฅุซุงุฑุฉ ุงููุดุงุนุฑ ูุชูุฌูู ุงูุฑุฃู ุงูุนุงู ูุญู ููุฑุฉ ูุฌูุฏ ุงุณุชูุงุก ูุงุณุน ุงููุทุงู."
                                }]
                            }
                        }]
                    };
                    
                    if (mockApiResponse.candidates && mockApiResponse.candidates.length > 0 &&
                        mockApiResponse.candidates[0].content && mockApiResponse.candidates[0].content.parts &&
                        mockApiResponse.candidates[0].content.parts.length > 0) {
                        const text = mockApiResponse.candidates[0].content.parts[0].text;
                        biasAnalysisResultDiv.innerHTML = `<p class="whitespace-pre-line">${text.replace(/\n/g, '<br>')}</p>`;
                    } else {
                         biasAnalysisResultDiv.innerHTML = '<p>ุนููุงูุ ูู ูุชููู ูู ุงูุญุตูู ุนูู ุชุญููู. (ูุญุงูุงุฉ ุฎุทุฃ)</p>';
                    }

                } catch (error) {
                    console.error("Error in simulated API call:", error);
                    biasAnalysisResultDiv.innerHTML = '<p>ุญุฏุซ ุฎุทุฃ ุฃุซูุงุก ูุญุงููุฉ ุงูุชุญููู. (ูุญุงูุงุฉ ุฎุทุฃ)</p>';
                }
            });


            const askGeminiModal = document.getElementById('askGeminiModal');
            const askGeminiButton = document.getElementById('askGeminiButton');
            const closeAskModalButton = document.getElementById('closeAskModal');
            const userQueryInput = document.getElementById('userQueryInput');
            const submitUserQueryButton = document.getElementById('submitUserQuery');
            const geminiResponseDiv = document.getElementById('geminiResponse');

            askGeminiButton?.addEventListener('click', () => {
                askGeminiModal.classList.remove('hidden');
                geminiResponseDiv.innerHTML = '';
                userQueryInput.value = '';
            });
            closeAskModalButton?.addEventListener('click', () => askGeminiModal.classList.add('hidden'));

            submitUserQueryButton?.addEventListener('click', async () => {
                const userQuery = userQueryInput.value.trim();
                if (!userQuery) {
                    geminiResponseDiv.innerHTML = '<p>ุงูุฑุฌุงุก ุฅุฏุฎุงู ุณุคุงูู ุฃููุงู.</p>';
                    return;
                }
                geminiResponseDiv.innerHTML = '<div class="flex justify-center items-center"><div class="loader"></div><p class="ml-2">ูููู Gemini ุจุชุญููู ุณุคุงูู...</p></div>';
                
                const prompt = `ุจุตูุชู ุฎุจูุฑูุง ูู ุชุญููู ุงูุฅุนูุงูุ ูู ุจุชุญููู ุงูุณุคุงู ุงูุชุงูู ุญูู ุงูุฅุนูุงู ุงูููุจู ููุฏู ุฑุคู ููุฌุฒุฉ: "${userQuery}"`;

                try {
                    let chatHistory = [{ role: "user", parts: [{ text: prompt }] }];
                    const payload = { contents: chatHistory };
                    const apiKey = "";
                    const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

                    await new Promise(resolve => setTimeout(resolve, 2000)); 

                    const mockApiResponse = {
                        candidates: [{
                            content: {
                                parts: [{
                                    text: `ุชุญููู ุชุฌุฑูุจู ูุณุคุงูู: "${userQuery}"\n\nูุดูุฑ ุณุคุงูู ุฅูู ููุทุฉ ุญูููุฉ ูู ููู ุฏููุงููููุงุช ุงูุฅุนูุงู ุงูููุจู. ุจูุงุกู ุนูู ุงูุชุญููู (ุงูุชุฌุฑูุจู)ุ ูููู ุงูููู ุจุฃู:\n\n1.  **ุงูุดูุงููุฉ ุงููุญุฏูุฏุฉ:** ุบุงูุจูุง ูุง ุชููู ูุตุงุฏุฑ ุชูููู ุงููููุงุช ุบูุฑ ูุนููุฉ ุจูุถูุญุ ููุง ููุชุญ ุงูุจุงุจ ุฃูุงู ุงูุชูููุงุช ุญูู ุงูุฃุฌูุฏุงุช ุงูุฎููุฉ.\n2.  **ุชุฃุซูุฑ ุงูุงุณุชูุทุงุจ:** ุงูุงููุณุงู ุงูุณูุงุณู ุงูุญุงุฏ ูู ููุจูุง ููุนูุณ ุจุดูู ูุจุงุดุฑ ุนูู ุงูุฎุทุงุจ ุงูุฅุนูุงููุ ุญูุซ ุชููู ูู ููุงุฉ ูุฎุฏูุฉ ูุตุงูุญ ุงูุทุฑู ุงูุฐู ุชูุชูู ุฅููู ุฃู ูููููุง.\n3.  **ุฏูุฑ ุงูููุฉ ุงููุงุนูุฉ:** ุจุนุถ ุงูุฌูุงุช ุงูุฎุงุฑุฌูุฉ ุชุณุชุฎุฏู ุงูุฅุนูุงู ูุฃุฏุงุฉ ููููุฉ ุงููุงุนูุฉุ ุจูุฏู ุงูุชุฃุซูุฑ ุนูู ุงูุฑุฃู ุงูุนุงู ูุชูุฌูู ูุณุงุฑ ุงูุฃุญุฏุงุซ ุจูุง ูุฎุฏู ูุตุงูุญูุง ุงูุงุณุชุฑุงุชูุฌูุฉ.\n\nูููู ุฃุนููุ ูููุตุญ ุจุงููุธุฑ ูู ุฏุฑุงุณุงุช ููุงุฑูุฉ ูุชุญููู ูุญุชูู ุงููููุงุช ุงูุฑุฆูุณูุฉ ูุชุชุจุน ุฃููุงุท ุงูุชุบุทูุฉ ููุฃุญุฏุงุซ ุงูููุตููุฉ.`
                                }]
                            }
                        }]
                    };

                    if (mockApiResponse.candidates && mockApiResponse.candidates.length > 0 &&
                        mockApiResponse.candidates[0].content && mockApiResponse.candidates[0].content.parts &&
                        mockApiResponse.candidates[0].content.parts.length > 0) {
                        const text = mockApiResponse.candidates[0].content.parts[0].text;
                        geminiResponseDiv.innerHTML = `<p class="whitespace-pre-line">${text.replace(/\n/g, '<br>')}</p>`;
                    } else {
                        geminiResponseDiv.innerHTML = '<p>ุนููุงูุ ูู ูุชููู ูู ุงูุญุตูู ุนูู ุชุญููู ูุณุคุงูู. (ูุญุงูุงุฉ ุฎุทุฃ)</p>';
                    }

                } catch (error) {
                    console.error("Error in simulated API call for user query:", error);
                    geminiResponseDiv.innerHTML = '<p>ุญุฏุซ ุฎุทุฃ ุฃุซูุงุก ูุญุงููุฉ ุชุญููู ุณุคุงูู. (ูุญุงูุงุฉ ุฎุทุฃ)</p>';
                }
            });

        });
    </script>
    
    </body>
</html>
